# Session List View Specification

> **Version**: 1.0  
> **Last Updated**: 2026-01-10

## 개요

Qualia 앱의 초기 화면. 사용자의 모든 채팅 세션을 표시하고 관리하는 메인 화면.

## UI 구조

```
┌─────────────────────────────────────────┐
│  Qualia                    [⚙️ Settings] │
├─────────────────────────────────────────┤
│                                         │
│  [➕ New Session]                       │
│                                         │
│  ┌───────────────────────────────────┐ │
│  │ 📷 [Partner Image]                │ │
│  │                                   │ │
│  │ 사쿠라, 22세                       │ │
│  │ "어제 공원에서 손을 잡고..."       │ │
│  │                                   │ │
│  │ 🕐 2시간 전 · 💬 24턴             │ │
│  └───────────────────────────────────┘ │
│                                         │
│  ┌───────────────────────────────────┐ │
│  │ 📷 [Partner Image]                │ │
│  │                                   │ │
│  │ 미나, 25세                         │ │
│  │ "카페에서 대화를 나누던 중..."     │ │
│  │                                   │ │
│  │ 🕐 1일 전 · 💬 45턴               │ │
│  └───────────────────────────────────┘ │
│                                         │
│  ┌───────────────────────────────────┐ │
│  │ 📷 [Partner Image]                │ │
│  │                                   │ │
│  │ 유진, 20세                         │ │
│  │ "도서관에서 처음 만났던..."        │ │
│  │                                   │ │
│  │ 🕐 3일 전 · 💬 12턴               │ │
│  └───────────────────────────────────┘ │
│                                         │
└─────────────────────────────────────────┘
```

## 화면 구성 요소

### 1. 헤더

- **앱 이름**: "Qualia" (왼쪽 상단)
- **설정 버튼**: ⚙️ 아이콘 (오른쪽 상단)
  - 클릭 시 Settings 화면으로 이동

### 2. New Session 버튼

- **위치**: 세션 리스트 최상단
- **스타일**: 전체 너비, 눈에 띄는 색상 (Primary Color)
- **동작**: 클릭 시 세션 생성 플로우 시작
  1. Model Preset 선택
  2. 성별 설정
  3. Generate 버튼
  4. Partner 설정
  5. User 설정
  6. World 설정
  7. 시나리오 설정

### 3. 세션 카드

각 세션은 카드 형태로 표시:

#### 카드 구성
- **Partner 이미지**: 최근 생성된 이미지 (정사각형, 왼쪽 또는 상단)
- **Partner 정보**: 이름, 나이
- **마지막 대화 요약**: 최근 메모리 스냅샷 또는 마지막 서술 (1-2줄)
- **메타 정보**:
  - 마지막 활동 시간 (상대 시간: "2시간 전", "1일 전")
  - 총 턴 수

#### 카드 상태
- **일반**: 기본 스타일
- **NSFW 진행 중**: 특별한 표시 (🔞 아이콘 또는 색상 변화)
- **Hover/Press**: 하이라이트 효과

#### 카드 동작
- **탭**: 해당 세션의 채팅 화면으로 이동
- **롱 프레스**: 컨텍스트 메뉴 표시
  - 세션 이름 변경
  - 세션 삭제
  - 세션 복제

### 4. 정렬 및 필터

**정렬 옵션** (헤더 또는 New Session 버튼 아래):
- 최근 활동순 (기본)
- 생성일순
- 이름순
- 턴 수순

**필터 옵션**:
- 전체
- 진행 중 (최근 24시간 내 활동)
- 완료 (장기간 비활성)

## 데이터 모델

```dart
class SessionListItem {
  String sessionId;
  String partnerName;
  int partnerAge;
  String? lastImageUrl;           // 최근 생성된 이미지
  String lastMemorySummary;       // 마지막 메모리 스냅샷
  DateTime lastActiveAt;          // 마지막 활동 시간
  int turnCount;                  // 총 턴 수
  bool isNSFW;                    // NSFW 진행 중 여부
}
```

## 상태 관리

### 로딩 상태
- **초기 로딩**: 스켈레톤 UI 표시
- **새로고침**: Pull-to-refresh 제스처 지원

### 빈 상태
세션이 없을 때:
```
┌─────────────────────────────────────────┐
│                                         │
│              🌟                         │
│                                         │
│        새로운 이야기를 시작하세요        │
│                                         │
│     [➕ 첫 세션 만들기]                 │
│                                         │
└─────────────────────────────────────────┘
```

### 에러 상태
로딩 실패 시:
```
┌─────────────────────────────────────────┐
│                                         │
│              ⚠️                         │
│                                         │
│        세션을 불러올 수 없습니다         │
│                                         │
│          [🔄 다시 시도]                 │
│                                         │
└─────────────────────────────────────────┘
```

## 애니메이션

- **카드 진입**: Fade + Slide up (순차적)
- **카드 탭**: Scale down → Scale up
- **삭제**: Slide out + Fade out
- **새 세션 추가**: Slide down from top

## 접근성

- **VoiceOver/TalkBack**: 모든 카드와 버튼에 적절한 레이블
- **다크 모드**: 자동 지원
- **폰트 크기**: 시스템 설정 따름

## 성능 고려사항

- **이미지 로딩**: 썸네일 캐싱, 지연 로딩
- **리스트 최적화**: 가상 스크롤 (100개 이상 세션 시)
- **메모리 관리**: 화면 밖 이미지 언로드

---

## 변경 이력

| 날짜 | 변경 내용 |
|---|---|
| 2026-01-10 | 초안 작성: 세션 리스트 화면 UI 스펙 정의 |
